{% extends '@WebProfiler/Profiler/layout.html.twig' %}

{% block toolbar %}
    {% set icon %}
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 73.765 74.765"
             fill="#fff" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round">
            <use xlink:href="#A" x="4.883" y="4.883"/>
            <symbol id="A" overflow="visible">
                <path d="M55.309 10.126l-31.512 34.06 39.597-18.261a31.93 31.93 0 0 0-8.085-15.79zM31.932 0a31.93 31.93 0 0 0-12.314 2.451L15.39 38.074 36.521.332A32.24 32.24 0 0 0 31.941 0zm31.775 27.889L26.19 48.884l35.203-4.179c1.718-3.994 2.602-8.298 2.597-12.646.001-1.395-.096-2.788-.293-4.17zM49.88 58.62c4.202-2.848 7.672-6.649 10.126-11.093L27 54.069zM38.445.664L20.087 40.466l34.06-31.512a32.03 32.03 0 0 0-15.702-8.3zM34.607 64c3.468-.284 6.865-1.136 10.058-2.519L26.19 59.284l8.418 4.707zM2.705 18.876C1.231 22.134.317 25.616 0 29.178l4.883 8.789zm14.13-15.107C12.321 6.186 8.448 9.644 5.537 13.857l4.648 23.397z"
                      stroke="none" fill="#c7402b" fill-rule="nonzero"/>
            </symbol>
        </svg>
        <span class="sf-toolbar-value">{{ collector.getRequestCount() }}</span>
    {% endset %}

    {{ include('@WebProfiler/Profiler/toolbar_item.html.twig', { link: true }) }}
{% endblock %}

{% block menu %}
    <span class="label">
        <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 73.765 74.765"
                 fill="#fff" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round">
                <use xlink:href="#A" x="4.883" y="4.883"/>
                <symbol id="A" overflow="visible">
                    <path d="M55.309 10.126l-31.512 34.06 39.597-18.261a31.93 31.93 0 0 0-8.085-15.79zM31.932 0a31.93 31.93 0 0 0-12.314 2.451L15.39 38.074 36.521.332A32.24 32.24 0 0 0 31.941 0zm31.775 27.889L26.19 48.884l35.203-4.179c1.718-3.994 2.602-8.298 2.597-12.646.001-1.395-.096-2.788-.293-4.17zM49.88 58.62c4.202-2.848 7.672-6.649 10.126-11.093L27 54.069zM38.445.664L20.087 40.466l34.06-31.512a32.03 32.03 0 0 0-15.702-8.3zM34.607 64c3.468-.284 6.865-1.136 10.058-2.519L26.19 59.284l8.418 4.707zM2.705 18.876C1.231 22.134.317 25.616 0 29.178l4.883 8.789zm14.13-15.107C12.321 6.186 8.448 9.644 5.537 13.857l4.648 23.397z"
                          stroke="none" fill="#c7402b" fill-rule="nonzero"/>
                </symbol>
            </svg>
        </span>
        <strong>Solr</strong>
        {% if collector.requests is not empty %}
            <span class="count">{{ collector.getRequestCount() }}</span>
        {% endif %}
    </span>
{% endblock %}

{% block panel %}
    <div class="metrics">
        <div class="metric">
            <span class="value">{{ collector.getRequestCount() }}</span>
            <span class="label">Total requests</span>
        </div>
    </div>

    <h4>Requests</h4>

    <table>
        <thead>
        <tr>
            <th>#</th>
            <th>Request</th>
        </tr>
        </thead>
        <tbody>
        {% for i, request in collector.requests %}
            <tr>
                <td class="nowrap">{{ i }}</td>
                <td>
                    <pre class="prewrap" style="max-width: 1000px; margin: 0">{{ request.getRequestAsString() }}</pre>
                    <br />
                    <p>Response</p>
                    <pre class="prewrap" style="max-width: 1000px; margin: 0">{{ request.getResponseAsString() }}</pre>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}

