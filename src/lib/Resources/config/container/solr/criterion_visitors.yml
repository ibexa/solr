parameters:
    # Common
    ezpublish.search.solr.query.common.criterion_visitor.content_id_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\ContentIdIn
    ezpublish.search.solr.query.common.criterion_visitor.content_type_group_id_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\ContentTypeGroupIdIn
    ezpublish.search.solr.query.common.criterion_visitor.content_type_id_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\ContentTypeIdIn
    ezpublish.search.solr.query.common.criterion_visitor.content_type_identifier_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\ContentTypeIdentifierIn
    ezpublish.search.solr.query.common.criterion_visitor.custom_field_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\CustomField\CustomFieldIn
    ezpublish.search.solr.query.common.criterion_visitor.custom_field_range.class: Ibexa\Solr\Query\Common\CriterionVisitor\CustomField\CustomFieldRange
    ezpublish.search.solr.query.common.criterion_visitor.field_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\Field\FieldIn
    ezpublish.search.solr.query.common.criterion_visitor.field_empty.class: Ibexa\Solr\Query\Common\CriterionVisitor\Field\FieldEmpty
    ezpublish.search.solr.query.common.criterion_visitor.field_range.class: Ibexa\Solr\Query\Common\CriterionVisitor\Field\FieldRange
    ezpublish.search.solr.query.common.criterion_visitor.field_like.class: Ibexa\Solr\Query\Common\CriterionVisitor\Field\FieldLike
    ezpublish.search.solr.query.common.criterion_visitor.field_relation.class: Ibexa\Solr\Query\Common\CriterionVisitor\Field\FieldRelation
    ezpublish.search.solr.query.common.criterion_visitor.language_code_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\LanguageCodeIn
    ezpublish.search.solr.query.common.criterion_visitor.logical_and.class: Ibexa\Solr\Query\Common\CriterionVisitor\LogicalAnd
    ezpublish.search.solr.query.common.criterion_visitor.logical_not.class: Ibexa\Solr\Query\Common\CriterionVisitor\LogicalNot
    ezpublish.search.solr.query.common.criterion_visitor.logical_or.class: Ibexa\Solr\Query\Common\CriterionVisitor\LogicalOr
    ezpublish.search.solr.query.common.criterion_visitor.map_location_distance_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\MapLocation\MapLocationDistanceIn
    ezpublish.search.solr.query.common.criterion_visitor.map_location_distance_range.class: Ibexa\Solr\Query\Common\CriterionVisitor\MapLocation\MapLocationDistanceRange
    ezpublish.search.solr.query.common.criterion_visitor.match_all.class: Ibexa\Solr\Query\Common\CriterionVisitor\MatchAll
    ezpublish.search.solr.query.common.criterion_visitor.match_none.class: Ibexa\Solr\Query\Common\CriterionVisitor\MatchNone
    ezpublish.search.solr.query.common.criterion_visitor.modified_between.class: Ibexa\Solr\Query\Common\CriterionVisitor\DateMetadata\ModifiedBetween
    ezpublish.search.solr.query.common.criterion_visitor.modified_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\DateMetadata\ModifiedIn
    ezpublish.search.solr.query.common.criterion_visitor.object_state_id_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\ObjectStateIdIn
    ezpublish.search.solr.query.common.criterion_visitor.published_between.class: Ibexa\Solr\Query\Common\CriterionVisitor\DateMetadata\PublishedBetween
    ezpublish.search.solr.query.common.criterion_visitor.published_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\DateMetadata\PublishedIn
    ezpublish.search.solr.query.common.criterion_visitor.remote_id_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\RemoteIdIn
    ezpublish.search.solr.query.common.criterion_visitor.section_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\SectionIn
    ezpublish.search.solr.query.common.criterion_visitor.user_metadata_in.class: Ibexa\Solr\Query\Common\CriterionVisitor\UserMetadataIn
    # Content search
    ezpublish.search.solr.query.content.criterion_visitor.ancestor.class: Ibexa\Solr\Query\Content\CriterionVisitor\Ancestor
    ezpublish.search.solr.query.content.criterion_visitor.subtree_in.class: Ibexa\Solr\Query\Content\CriterionVisitor\SubtreeIn
    ezpublish.search.solr.query.content.criterion_visitor.location_id_in.class: Ibexa\Solr\Query\Content\CriterionVisitor\LocationIdIn
    ezpublish.search.solr.query.content.criterion_visitor.parent_location_id_in.class: Ibexa\Solr\Query\Content\CriterionVisitor\ParentLocationIdIn
    ezpublish.search.solr.query.content.criterion_visitor.location_remote_id_in.class: Ibexa\Solr\Query\Content\CriterionVisitor\LocationRemoteIdIn
    ezpublish.search.solr.query.content.criterion_visitor.full_text.class: Ibexa\Solr\Query\Content\CriterionVisitor\FullText
    ezpublish.search.solr.query.content.criterion_visitor.visibility.class: Ibexa\Solr\Query\Content\CriterionVisitor\Visibility
    # Location search
    ezpublish.search.solr.query.location.criterion_visitor.ancestor.class: Ibexa\Solr\Query\Location\CriterionVisitor\Ancestor
    ezpublish.search.solr.query.location.criterion_visitor.subtree_in.class: Ibexa\Solr\Query\Location\CriterionVisitor\SubtreeIn
    ezpublish.search.solr.query.location.criterion_visitor.location_id_in.class: Ibexa\Solr\Query\Location\CriterionVisitor\LocationIdIn
    ezpublish.search.solr.query.location.criterion_visitor.parent_location_id_in.class: Ibexa\Solr\Query\Location\CriterionVisitor\ParentLocationIdIn
    ezpublish.search.solr.query.location.criterion_visitor.location_remote_id_in.class: Ibexa\Solr\Query\Location\CriterionVisitor\LocationRemoteIdIn
    ezpublish.search.solr.query.location.criterion_visitor.visibility.class: Ibexa\Solr\Query\Location\CriterionVisitor\Visibility
    ezpublish.search.solr.query.location.criterion_visitor.depth_in.class: Ibexa\Solr\Query\Location\CriterionVisitor\Location\DepthIn
    ezpublish.search.solr.query.location.criterion_visitor.depth_between.class: Ibexa\Solr\Query\Location\CriterionVisitor\Location\DepthBetween
    ezpublish.search.solr.query.location.criterion_visitor.is_main_location.class: Ibexa\Solr\Query\Location\CriterionVisitor\Location\IsMainLocation
    ezpublish.search.solr.query.location.criterion_visitor.priority_in.class: Ibexa\Solr\Query\Location\CriterionVisitor\Location\PriorityIn
    ezpublish.search.solr.query.location.criterion_visitor.priority_between.class: Ibexa\Solr\Query\Location\CriterionVisitor\Location\PriorityBetween
    # We don't support fulltext Location search out of the box
    #ezpublish.search.solr.query.location.criterion_visitor.full_text.class: Ibexa\Solr\Query\Location\CriterionVisitor\FullText
    ezpublish.search.solr.query.location.criterion_visitor.full_text.class: Ibexa\Solr\Query\Location\CriterionVisitor\FullText

services:
    # Common for Content and Location search
    ezpublish.search.solr.query.common.criterion_visitor.content_id_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.content_id_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.content_type_group_id_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.content_type_group_id_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.content_type_id_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.content_type_id_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.content_type_identifier_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.content_type_identifier_in.class%"
        arguments:
            - "@ezpublish.spi.persistence.content_type_handler"
            - "@?logger"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.custom_field_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.custom_field_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.field_like:
        class: '%ezpublish.search.solr.query.common.criterion_visitor.field_like.class%'
        arguments:
            - '@ezpublish.search.common.field_name_resolver'
            - '@ezpublish.search.common.field_value_mapper.aggregate'
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.custom_field_range:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.custom_field_range.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.field_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.field_in.class%"
        arguments:
            - "@ezpublish.search.common.field_name_resolver"
            - "@ezpublish.search.common.field_value_mapper.aggregate"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.field_empty:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.field_empty.class%"
        arguments:
            - "@ezpublish.search.common.field_name_resolver"
            - "@ezpublish.search.common.field_value_mapper.aggregate"
            - "@ezpublish.search.common.field_name_generator"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.field_range:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.field_range.class%"
        arguments:
            - "@ezpublish.search.common.field_name_resolver"
            - "@ezpublish.search.common.field_value_mapper.aggregate"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.field_relation:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.field_relation.class%"
        arguments:
            - "@ezpublish.search.common.field_name_resolver"
            - "@ezpublish.search.common.field_value_mapper.aggregate"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.language_code_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.language_code_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.logical_and:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.logical_and.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.logical_not:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.logical_not.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.logical_or:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.logical_or.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.map_location_distance_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.map_location_distance_in.class%"
        arguments:
            - "@ezpublish.search.common.field_name_resolver"
            - 'ezgmaplocation'
            - 'value_location'
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.map_location_distance_range:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.map_location_distance_range.class%"
        arguments:
            - "@ezpublish.search.common.field_name_resolver"
            - 'ezgmaplocation'
            - 'value_location'
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.match_all:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.match_all.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.match_none:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.match_none.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.modified_between:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.modified_between.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.modified_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.modified_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.object_state_id_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.object_state_id_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    Ibexa\Solr\Query\Common\CriterionVisitor\ObjectStateIdentifierIn:
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.published_between:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.published_between.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.published_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.published_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.remote_id_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.remote_id_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.common.criterion_visitor.section_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.section_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    Ibexa\Solr\Query\Common\CriterionVisitor\SectionIdentifierIn:
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    Ibexa\Solr\Query\Common\CriterionVisitor\UserEmailIn:
        tags:
            - { name: ibexa.search.solr.query.content.criterion.visitor }
            - { name: ibexa.search.solr.query.location.criterion.visitor }

    Ibexa\Solr\Query\Common\CriterionVisitor\UserIdIn:
        tags:
            - { name: ibexa.search.solr.query.content.criterion.visitor }
            - { name: ibexa.search.solr.query.location.criterion.visitor }

    Ibexa\Solr\Query\Common\CriterionVisitor\UserLoginIn:
        tags:
            - { name: ibexa.search.solr.query.content.criterion.visitor }
            - { name: ibexa.search.solr.query.location.criterion.visitor }

    ezpublish.search.solr.query.common.criterion_visitor.user_metadata_in:
        class: "%ezpublish.search.solr.query.common.criterion_visitor.user_metadata_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    Ibexa\Solr\Query\Common\CriterionVisitor\Factory\FullTextFactoryAbstract:
        abstract: true
        arguments:
            - "@ezpublish.search.common.field_name_resolver"
            - "@ezpublish.search.solr.query.query_translator.galach.tokenizer"
            - "@ezpublish.search.solr.query.query_translator.galach.parser"
            - "@ezpublish.search.solr.query.query_translator.galach.generator.edismax"
            - "@ezpublish.search.solr.field_mapper.indexing_depth_provider"

    # Content search
    ezpublish.search.solr.query.content.criterion_visitor.ancestor:
        class: "%ezpublish.search.solr.query.content.criterion_visitor.ancestor.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}

    ezpublish.search.solr.query.content.criterion_visitor.subtree_in:
        class: "%ezpublish.search.solr.query.content.criterion_visitor.subtree_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}

    ezpublish.search.solr.query.content.criterion_visitor.location_id_in:
        class: "%ezpublish.search.solr.query.content.criterion_visitor.location_id_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}

    ezpublish.search.solr.query.content.criterion_visitor.parent_location_id_in:
        class: "%ezpublish.search.solr.query.content.criterion_visitor.parent_location_id_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}

    ezpublish.search.solr.query.content.criterion_visitor.location_remote_id_in:
        class: "%ezpublish.search.solr.query.content.criterion_visitor.location_remote_id_in.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}

    ezpublish.search.solr.query.content.criterion_visitor.full_text:
        class: "%ezpublish.search.solr.query.content.criterion_visitor.full_text.class%"
        factory: ['@Ibexa\Solr\Query\Content\CriterionVisitor\Factory\ContentFullTextFactory', 'createCriterionVisitor']
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}

    Ibexa\Solr\Query\Content\CriterionVisitor\Factory\ContentFullTextFactory:
        parent: Ibexa\Solr\Query\Common\CriterionVisitor\Factory\FullTextFactoryAbstract

    ezpublish.search.solr.query.content.criterion_visitor.visibility:
        class: "%ezpublish.search.solr.query.content.criterion_visitor.visibility.class%"
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}

    # Location search
    ezpublish.search.solr.query.location.criterion_visitor.ancestor:
        class: "%ezpublish.search.solr.query.location.criterion_visitor.ancestor.class%"
        tags:
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.location.criterion_visitor.subtree_in:
        class: "%ezpublish.search.solr.query.location.criterion_visitor.subtree_in.class%"
        tags:
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.location.criterion_visitor.location_id_in:
        class: "%ezpublish.search.solr.query.location.criterion_visitor.location_id_in.class%"
        tags:
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.location.criterion_visitor.parent_location_id_in:
        class: "%ezpublish.search.solr.query.location.criterion_visitor.parent_location_id_in.class%"
        tags:
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.location.criterion_visitor.location_remote_id_in:
        class: "%ezpublish.search.solr.query.location.criterion_visitor.location_remote_id_in.class%"
        tags:
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.location.criterion_visitor.visibility:
        class: "%ezpublish.search.solr.query.location.criterion_visitor.visibility.class%"
        tags:
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.location.criterion_visitor.depth_in:
        class: "%ezpublish.search.solr.query.location.criterion_visitor.depth_in.class%"
        tags:
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.location.criterion_visitor.depth_between:
        class: "%ezpublish.search.solr.query.location.criterion_visitor.depth_between.class%"
        tags:
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.location.criterion_visitor.is_main_location:
        class: "%ezpublish.search.solr.query.location.criterion_visitor.is_main_location.class%"
        tags:
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.location.criterion_visitor.priority_in:
        class: "%ezpublish.search.solr.query.location.criterion_visitor.priority_in.class%"
        tags:
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.location.criterion_visitor.priority_between:
        class: "%ezpublish.search.solr.query.location.criterion_visitor.priority_between.class%"
        tags:
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    ezpublish.search.solr.query.location.criterion_visitor.full_text:
        class: "%ezpublish.search.solr.query.location.criterion_visitor.full_text.class%"
        factory: ['@Ibexa\Solr\Query\Location\CriterionVisitor\Factory\LocationFullTextFactory', 'createCriterionVisitor']
        tags:
            - {name: ibexa.search.solr.query.location.criterion.visitor}

    Ibexa\Solr\Query\Location\CriterionVisitor\Factory\LocationFullTextFactory:
        parent: Ibexa\Solr\Query\Common\CriterionVisitor\Factory\FullTextFactoryAbstract

    Ibexa\Solr\Query\Common\CriterionVisitor\CompositeCriterion:
        tags:
            - {name: ibexa.search.solr.query.content.criterion.visitor}
            - {name: ibexa.search.solr.query.location.criterion.visitor}
